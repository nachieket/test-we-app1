# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more: this is dummy commit
# https://aka.ms/yaml

trigger:
- master

pool:
  vmImage: 'ubuntu-latest'

jobs:
- job: Checkout
  steps:
    - script: git clone 'https://github.com/javahometech/my-app'
- job: Build_Maven_Package
  steps:
    - script: mvn clean package
- job: Build_Docker_Image
  steps:
    - script: sh 'docker build -t crwd:0.0.1 .'
    - script: sh 'docker tag crwd:0.0.1 517716713836.dkr.ecr.eu-west-2.amazonaws.com/njecr:latest'
